suite: Test ConfigMap Rendering
templates:
  - templates/configmap.yaml

tests:
  - it: should render ConfigMap with correct name
    set:
      global.common.configData.fabricIdRange: "100-200"
      global.common.configData.deviceInfo: "device1,device2"
    asserts:
      - isKind:
          of: ConfigMap
      - equal:
          path: metadata.name
          value: composable-dra-dds

  - it: should include fabric-id-range in data
    set:
      global.common.configData.fabricIdRange: "100-200"
      global.common.configData.deviceInfo: "device1,device2"
    asserts:
      - equal:
          path: data.fabric-id-range
          value: "100-200"
